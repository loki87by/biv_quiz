{"version":3,"sources":["utils/helpers.js","app/app.js","reportWebVitals.js","index.js"],"names":["badWorksRegexps","politicalWords","regex","answer","goodWords","App","username","setUsername","useState","currentUser","setCurrentUser","timerCounter","setTimerCounter","admin","setAdmin","isAuthorized","setAuthorized","buttonDisabled","setButtonDisabled","timerStarted","setTimerStarted","inputError","setInputError","duplicateNameError","setDuplicateNameError","globalDisabled","setGlobalDisabled","inputHandler","val","name","text","every","reg","test","ind","findIndex","i","includes","toLowerCase","censoredChecker","match","join","useEffect","timer","setInterval","clearInterval","handleButtonClick","reset","data","type","ws","WebSocket","onopen","send","JSON","stringify","onmessage","event","parse","state","global","_jsxs","children","_jsx","placeholder","value","id","onChange","e","target","htmlFor","_Fragment","onClick","className","disabled","concat","style","fontSize","reportWebVitals","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7e9a06f6.chunk.js","sourcesContent":["const badWorksRegexps = [\n  /.*ху[ёеий].*/gi,\n  /.*п(и|е|ы)зд.*/gi,\n  /.*бл[яею].*/gi,\n  /.*уеб.*/gi,\n  /.*шлюх.*/gi,\n  /.*залуп.*/gi,\n  /.*член.*/gi,\n  /.*срака.*/gi,\n  /.*задниц.*/gi,\n  /.*срач.*/gi,\n  /.*минет.*/gi,\n  /.*дроч.*/gi,\n  /.*анал.*/gi,\n  /.*еб[лы].*/gi,\n  /.*ёб.*/gi,\n  /.*еба.*/gi,\n  /.*(с|сц)уч?к(а|у|и|е|ой|ай).*/gi,\n  /.*п[ие]д[оае]?р.*/gi,\n  /очк[оа].*/gi,\n  /.*очко.*/gi,\n  /.*г[оа]вн.*/gi,\n  /.*д[еи]рьм.*/gi,\n  /(о|а)н(о|а)нист.*/gi,\n  /^лошар.*/gi,\n  /к(а|о)злина$/gi,\n  /сволоч(ь|ъ|и|уга|ам|ами).*/gi,\n  /^лох[уеыаоэяию].*/gi,\n  /.*урод(ы|у|ам|ина|ины).*/gi,\n  /.*бля(т|д).*/gi,\n  /.*г[а|о]ндо.*/gi,\n  /.*м(а|о)нд(а|о).*/gi,\n  /.*сперма.*/gi,\n  /.*[уеыаоэяию]еб$/gi,\n  /^придур(ок|ки).*/gi,\n  /^д(е|и)би(л|лы).*/gi,\n  /.*сос(ать|и|ешь|у)$/gi,\n  /^муд(е|ил|о|а|я|еб).*/gi,\n  /.*шалав(а|ы|ам|е|ами).*/gi,\n  /.*пр(а|о)ст(и|е)т(у|е)тк(а|и|ам|е|ами).*/gi,\n  /^еб.*/gi,\n  /.*(д(о|а)лб(о|а)|разъ|разь|за|вы|по)ебы*.*/gi,\n  /.*хер.*/gi,\n];\n\nconst politicalWords = [\n  {\n    regex: /путин/gi,\n    answer: \"Ну нельзя так\",\n  },\n  {\n    regex: /путлер/gi,\n    answer: \"За тобой выехали\",\n  },\n  {\n    regex: /хох(ол)|(л[ыя])/gi,\n    answer: \"Давай без этого\",\n  },\n];\n\nconst goodWords = [\n  \"шумахер\",\n  \"галахер\",\n  \"банально\",\n  \"банальность\",\n  \"банальный\",\n  \"канал\",\n  \"канальный\",\n  \"сабля\",\n  \"саблю\",\n  \"оглобля\",\n  \"оглоблю\",\n  \"дезмонда\",\n  \"команда\",\n  \"каманда\",\n  \"застрахуй\",\n  \"застрахуйте\",\n  \"одномандатный\",\n  \"подстрахуй\",\n  \"подстрахуйте\",\n  \"психуй\",\n  \"психуйте\",\n  \"истреблять\",\n  \"оскорблять\",\n  \"расслаблять\",\n  \"расслабляя\",\n  \"расслабляющий\",\n  \"оскорбляя\",\n  \"оскорбляющий\",\n  \"употреблять\",\n  \"потреблять\",\n  \"истребляя\",\n  \"употребляя\",\n  \"потребляя\",\n  \"истребляю\",\n  \"употребляю\",\n  \"потребляю\",\n  \"расслабляю\",\n  \"истребляющий\",\n  \"употребляющий\",\n  \"потребляющий\",\n];\n\nexport const censoredChecker = (text) => {\n  if (badWorksRegexps.every((reg) => !reg.test(text))) {\n    const ind = politicalWords.findIndex((i) => i.regex.test(text));\n    return ind < 0 ? text : politicalWords[ind].answer;\n  } else {\n    if (goodWords.includes(text.toLowerCase())) {\n      return text;\n    } else {\n      return \"\";\n    }\n  }\n};\n","import React, { useState, useEffect } from \"react\";\nimport { censoredChecker } from \"../utils/helpers\";\nimport \"./app.css\";\n\nconst App = () => {\n  const [username, setUsername] = useState(\"\");\n  const [currentUser, setCurrentUser] = useState(\"\");\n  const [timerCounter, setTimerCounter] = useState(30);\n  const [admin, setAdmin] = useState(false);\n  const [isAuthorized, setAuthorized] = useState(false);\n  const [buttonDisabled, setButtonDisabled] = useState(true);\n  const [timerStarted, setTimerStarted] = useState(false);\n  const [inputError, setInputError] = useState(false);\n  const [duplicateNameError, setDuplicateNameError] = useState(false);\n  const [globalDisabled, setGlobalDisabled] = useState(false);\n\n  function inputHandler(val) {\n    setInputError(false);\n    setDuplicateNameError(false);\n    const regex = /[а-яА-ЯёЁ\\s]*/gi;\n    const name = censoredChecker(val);\n\n    if (name.match(regex).join(\"\") !== \"\") {\n      setButtonDisabled(false);\n    } else {\n      setButtonDisabled(true);\n    }\n\n    if (name !== name.match(regex).join(\"\")) {\n      setInputError(true);\n    }\n    setUsername(name.match(regex).join(\"\"));\n  }\n\n  useEffect(() => {\n    if (timerStarted && timerCounter > 0) {\n      const timer = setInterval(() => {\n        const value = timerCounter - 1;\n        setTimerCounter(value);\n      }, 1000);\n\n      return () => {\n        clearInterval(timer);\n      };\n    }\n  }, [timerCounter, timerStarted]);\n\n  const handleButtonClick = (reset) => {\n    let data;\n\n    if (!isAuthorized) {\n      data = {\n        type: \"register\",\n        username: username,\n      };\n    } else {\n      if (admin) {\n        setTimerStarted(false);\n\n        if (reset === \"reset\") {\n          data = {\n            type: \"reset\",\n          };\n          setTimerStarted(false);\n          setTimerCounter(30);\n          setCurrentUser(\"\");\n        } else {\n          setGlobalDisabled(!globalDisabled);\n          data = {\n            type: !globalDisabled ? \"disabled\" : \"enabled\",\n            username: username,\n          };\n          setTimerStarted(false);\n          setTimerCounter(30);\n        }\n      } else {\n        data = {\n          type: \"disabled\",\n          username: username,\n        };\n      }\n    }\n\n    const ws = new WebSocket(\"ws://178.71.32.104:8080\");\n\n    ws.onopen = () => {\n      ws.send(JSON.stringify(data));\n      ws.onmessage = (event) => {\n        if (JSON.parse(event.data).type === \"success\") {\n          if (username === \"админ\") {\n            setAdmin(true);\n          }\n          setAuthorized(true);\n        }\n\n        if (JSON.parse(event.data).type === \"reset\") {\n          setTimerCounter(30);\n          setTimerStarted(false);\n          setButtonDisabled(true);\n          setGlobalDisabled(true);\n          setCurrentUser(\"\");\n        }\n\n        if (JSON.parse(event.data).type === \"failure\") {\n          setDuplicateNameError(true);\n        }\n\n        if (JSON.parse(event.data).type === \"stateChange\") {\n          if (\n            username === \"админ\" &&\n            JSON.parse(event.data).username !== \"админ\"\n          ) {\n            setCurrentUser(JSON.parse(event.data).username);\n            setTimerStarted(true);\n          } else {\n            if (JSON.parse(event.data).state === \"disabled\") {\n              setButtonDisabled(true);\n            }\n\n            if (JSON.parse(event.data).state === \"enabled\") {\n              setButtonDisabled(false);\n            }\n\n            if (!JSON.parse(event.data).global) {\n              setTimerStarted(true);\n              setCurrentUser(JSON.parse(event.data).username);\n            }\n          }\n        }\n      };\n    };\n  };\n\n  return (\n    <section>\n      {!isAuthorized ? (\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Введите имя\"\n            value={username}\n            id=\"name\"\n            onChange={(e) => {\n              inputHandler(e.target.value);\n            }}\n          />\n          <label htmlFor=\"name\">\n            {duplicateNameError\n              ? \"Имя уже занято\"\n              : inputError\n              ? \"Используй кириллицу\"\n              : \"\"}\n          </label>\n        </div>\n      ) : (\n        \"\"\n      )}\n      {currentUser !== \"\" ? <h2>{currentUser}</h2> : \"\"}\n      {admin ? (\n        <>\n          {currentUser !== \"\" ? <h1>{timerCounter}</h1> : \"\"}\n          <button onClick={handleButtonClick} className=\"green-button\">\n            {globalDisabled ? \"Enable\" : \"Disable\"}\n          </button>\n          <button\n            onClick={() => {\n              handleButtonClick(\"reset\");\n            }}\n            className=\"blue-button\"\n          >\n            Reset\n          </button>\n        </>\n      ) : (\n        <button\n          disabled={buttonDisabled}\n          onClick={handleButtonClick}\n          className={`${!isAuthorized && \"green-button\"}`}\n          style={\n            !admin && buttonDisabled && timerStarted\n              ? { fontSize: \"20vmin\" }\n              : {}\n          }\n        >\n          {!isAuthorized ? \"Join\" : buttonDisabled ? timerCounter : \"Ready\"}\n        </button>\n      )}\n    </section>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./app/app\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}